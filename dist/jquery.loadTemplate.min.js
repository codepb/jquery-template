!function(m){"use strict";var g={},b={},s={};function y(t,e,n){var a,r,i,o,c,s,l,f,p,u,d,h,v=this;return e=e||{},i=m.extend(!0,{async:!0,overwriteCache:!1,complete:null,success:null,error:function(){m(this).each(function(){m(this).html(i.errorMessage)})},errorMessage:"There was an error loading the template.",paged:!1,pageNo:1,elemPerPage:10,append:!1,replace:!1,after:!1,before:!1,prepend:!1,beforeInsert:null,afterInsert:null,bindingOptions:{ignoreUndefined:!1,ignoreNull:!1,ignoreEmptyString:!1}},n),"array"===m.type(e)?(!0,function(t,e,n){n=n||{};var a,r=this,i=e.length,o=n.prepend&&!n.append,c=0,s=0,l=!1,f=[];if(n.paged){var p=(n.pageNo-1)*n.elemPerPage;e=e.slice(p,p+n.elemPerPage),i=e.length}n.append||n.prepend||n.replace||n.after||n.before||r.html("");a=m.extend({},n,{append:!(n.prepend||n.replace||n.after||n.before),complete:function(t){(++c===i||l)&&(l&&n&&"function"==typeof n.error&&n.error.call(r,f),n&&"function"==typeof n.complete&&n.complete())},success:function(){++s===i&&n&&"function"==typeof n.success&&n.success()},error:function(t){l=!0,f.push(t)}}),o&&e.reverse();return m(e).each(function(){if(y.call(r,t,this,a),l)return!1}),this}.call(this,t,e,i)):("string"==typeof(o=t)&&-1<o.indexOf("/")||(a=m(t),"string"==typeof t&&0===t.indexOf("#")&&(i.isFile=!1)),(r=i.isFile||void 0===i.isFile&&(void 0===a||0===a.length))&&!i.overwriteCache&&g[t]?(p=v,u=e,d=i,h=g[t].clone(),O.call(p,h,u,d),"function"==typeof d.success&&d.success()):r&&!i.overwriteCache&&g.hasOwnProperty(t)?(s=v,l=e,f=i,b[c=t]?b[c].push({data:l,selection:s,settings:f}):b[c]=[{data:l,selection:s,settings:f}]):r?function(e,n,a,r){g[e]=null;var t=e;r.overwriteCache&&(t=-1!==(i=t).indexOf("?")?i+"&_="+x():i+"?_="+x());var i;m.ajax({url:t,async:r.async,success:function(t){!function(t,e,n,a,r){var i;g[e]=t.clone(),O.call(n,t,a,r),"function"==typeof r.success&&r.success.call(n);for(;b[e]&&(i=b[e].shift());)O.call(i.selection,g[e].clone(),i.data,i.settings),"function"==typeof i.settings.success&&i.settings.success.call(i.selection)}(m(t),e,n,a,r)},error:function(t){!function(t,e,n,a,r){var i;"function"==typeof a.error&&a.error.call(e,r);m(b[t]).each(function(t,e){"function"==typeof e.settings.error&&e.settings.error.call(e.selection,r)}),"function"==typeof a.complete&&a.complete.call(e);for(;b[t]&&(i=b[t].shift());)"function"==typeof i.settings.complete&&i.settings.complete.call(i.selection);void 0!==b[t]&&0<b[t].length&&(b[t]=[])}(e,n,0,r,t)}})}(t,v,e,i):function(t,e,n,a){(t.is("script")||t.is("template"))&&(t=m.parseHTML(m.trim(t.html())));O.call(e,t,n,a),"function"==typeof a.success&&a.success()}(a,v,e,i),this)}function t(t,e){e?s[t]=e:s=m.extend(s,t)}function x(){return(new Date).getTime()}function O(n,e,a){var t,r,i,o,c;n=m("<div/>").append(n);l("data-content",t=n,r=(r=e)||{},i=a,function(t,e){t.html(d(t,e,"content",i))}),l("data-content-append",t,r,i,function(t,e){t.append(d(t,e,"content",i))}),l("data-content-replace",t,r,i,function(t,e){t.replaceWith(d(t,e,"content",i))}),l("data-content-after",t,r,i,function(t,e){t.after(d(t,e,"content",i))}),l("data-content-before",t,r,i,function(t,e){t.before(d(t,e,"content",i))}),l("data-content-prepend",t,r,i,function(t,e){t.prepend(d(t,e,"content",i))}),l("data-content-text",t,r,i,function(t,e){t.text(d(t,e,"content",i))}),l("data-innerHTML",t,r,i,function(t,e){t.html(d(t,e,"content",i))}),l("data-src",t,r,i,function(t,e){t.attr("src",d(t,e,"src",i))},function(t){t.remove()}),l("data-href",t,r,i,function(t,e){t.attr("href",d(t,e,"href",i))},function(t){t.remove()}),l("data-alt",t,r,i,function(t,e){t.attr("alt",d(t,e,"alt",i))}),l("data-id",t,r,i,function(t,e){t.attr("id",d(t,e,"id",i))}),l("data-class",t,r,i,function(t,e){t.addClass(d(t,e,"class",i))}),l("data-link",t,r,i,function(t,e){var n=m("<a/>");n.attr("href",d(t,e,"link",i)),n.html(t.html()),t.html(n)}),l("data-link-wrap",t,r,i,function(t,e){var n=m("<a/>");n.attr("href",d(t,e,"link-wrap",i)),t.wrap(n)}),l("data-options",t,r,i,function(e,t){m(t).each(function(){var t=m("<option/>");t.attr("value",this).text(this).appendTo(e)})}),o=r,c=i,m("[data-template-bind]",t).each(function(){var n=m(this),t=m.parseJSON(n.attr("data-template-bind"));n.removeAttr("data-template-bind"),m(t).each(function(){var t;if(t="object"==typeof this.value?u(o,this.value.data):u(o,this.value),this.attribute){if(!f(this,t,c))return void n.remove();switch(this.attribute){case"content":case"innerHTML":n.html(p(n,t,this));break;case"contentAppend":n.append(p(n,t,this));break;case"contentReplace":n.replaceWith(p(n,t,this));break;case"contentAfter":n.after(p(n,t,this));break;case"contentBefore":n.before(p(n,t,this));break;case"contentPrepend":n.prepend(p(n,t,this));break;case"contentText":n.text(p(n,t,this));break;case"options":var e=this;m(t).each(function(){var t=m("<option/>");t.attr("value",this[e.value.value]).text(p(n,this[e.value.content],e)).attr("selected",null!=typeof this[e.value.selected]&&this[e.value.selected]).appendTo(n)});break;default:n.attr(this.attribute,p(n,t,this))}}})}),l("data-value",t,r,i,function(t,e){t.val(d(t,e,"value",i))}),m(this).each(function(){var t=n.children().clone(!0);m("select",t).each(function(t,e){m(this).val(m("select",n).eq(t).val())}),a.beforeInsert&&a.beforeInsert(t,e),a.append?m(this).append(t):a.prepend?m(this).prepend(t):a.replace?m(this).html("").replaceWith(t):a.after?m(this).after(t):a.before?m(this).before(t):m(this).html("").append(t),a.afterInsert&&a.afterInsert(t,e)}),"function"==typeof a.complete&&a.complete.call(m(this),e)}function l(a,t,r,i,o,c){m("["+a+"]",t).each(function(){var t=m(this),e=t.attr(a),n=u(r,e);f(t,n,i)?(t.removeAttr(a),void 0!==n&&o?o(t,n):c&&c(t)):t.remove()})}function f(t,e,n){var a=function(t,e){var n={};t instanceof jQuery&&t.attr("data-binding-options")?(n=m.parseJSON(t.attr("data-binding-options")),t.removeAttr("data-binding-options")):"object"==typeof t&&t.hasOwnProperty("bindingOptions")&&(n=t.bindingOptions);return m.extend({},e.bindingOptions,n)}(t,n);return(!a.ignoreUndefined||void 0!==e)&&((!a.ignoreNull||null!==e)&&(!a.ignoreEmptyString||""!==e))}function p(t,e,n,a){return n.formatter&&s[n.formatter]?(r=a,s[n.formatter].call(t,e,n.formatOptions,r)):e;var r}function u(t,e){if("this"===e)return t;for(var n,a=e.split("."),r=t;(n=a.shift())&&void 0!==r&&null!=r;)r=r[n];return r}function d(t,e,n,a){var r,i,o=t.attr("data-format-target");if(o!==n&&(o||"content"!==n)||!(r=t.attr("data-format"))||"function"!=typeof s[r])return e;var c=t.attr("data-format-options");return i=a,s[r].call(t[0],e,c,m.extend({},i))}t("nestedTemplateFormatter",function(t,e,n){if(e){"string"==typeof e&&"{"===e[0]&&(e=m.parseJSON(e));var a=e.parentElement||"div",r=e.template||e;return e.parentElement?m("<"+a+"/>").loadTemplate(r,t,n):m("<"+a+"/>").loadTemplate(r,t,n).children()}}),m.fn.loadTemplate=y,m.addTemplateFormatter=t}(jQuery);
